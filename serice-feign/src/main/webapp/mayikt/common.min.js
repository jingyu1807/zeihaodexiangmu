var slider;var ifEmailReg="off";var mobHeight;$(function(){wmNavFun();mobHeight=$(window).height();moSeachAll()});var wmNavFun=function(){var c=$(".mw-nav-btn"),b=$(".h-mobile-mask"),a=$(window).height();$(".head-mobile").css("height",a+"px");c.click(function(){if(!c.hasClass("mw-tap")){$(this).addClass("mw-tap");$("html").addClass("active");b.show().css("opacity","1")}else{$(this).removeClass("mw-tap");$("html").removeClass("active");b.css("opacity","0").hide()}});b.click(function(){if(!b.is(":hidden")){c.removeClass("mw-tap");$("html").removeClass("active");b.css("opacity","0").hide()}})};var upSlideFun=function(a){var b=$(a),d=5000,c;b.hover(function(){clearInterval(c)},function(){c=setInterval(function(){var e=b.find("li:first");var f=e.height();e.animate({"margin-top":-f+"px"},600,function(){e.css("margin-top",0).appendTo(b)})},d)}).trigger("mouseleave")};function cTabFun(b){var a=b;a.each(function(){var d=$(this),c=d.attr("name");d.click(function(){d.parent().parent().find("a").removeClass("current");d.addClass("current").siblings().removeClass("current")})})}function shareShow(){$(".kcShare").hover(function(){var a=$(this);a.stop().animate({width:"205px"},200);a.siblings("span").css({width:"50px"});a.children("#bdshare").stop().animate({right:"0"},200)},function(){var a=$(this);a.stop().animate({width:"50px"},200);a.children("#bdshare").stop().animate({right:"-160px"},200)})}function slideScroll(h,f,g,i,e,d){var h=$(h),f=$(f),g=$(g),i=$(i).find("ul"),a=i.find("li").outerWidth(true),c=i.find("li").length,j=e,b=null;i.css("width",c*a+"px");g.click(function(){if(!i.is(":animated")){i.animate({"margin-left":-a},function(){i.find("li").eq(0).appendTo(i);i.css("margin-left",0)})}});f.click(function(){if(!i.is(":animated")){i.find("li:last").prependTo(i);i.css("margin-left",-a);i.animate({"margin-left":0})}});if(d===true){b=setInterval(function(){f.click()},j*1000);h.hover(function(){clearInterval(b)},function(){b=setInterval(function(){f.click()},j*1000)})}}function treeMenu(){$("#lh-menu>ul>li>a").each(function(){var a=$(this);a.siblings("ol").slideDown(150);a.addClass("current-1");a.click(function(){if(a.siblings("ol").is(":hidden")){a.siblings("ol").slideDown(150);a.addClass("current-1")}else{a.siblings("ol").slideUp(150);a.removeClass("current-1")}})})}function replyFun(){var a='<section class="n-reply-wrap"><fieldset><textarea name=""></textarea></fieldset><p class="of mt5 tar pl10 pr10"><span class="fl"><tt class="c-red">回复内容不能为空！</tt></span><u class="hand mr10 qxBtn c-999">取消</u><a href="javascript: void(0)" title="回复" class="lh-reply-btn" onclick="addReply(this)">回复</a></p></section>';$(".question-list>ul>li").each(function(){var c=$(this),b=function(){c.find(".n-reply").slideUp(150)};c.find(".noter-dy").click(function(){if(c.find(".n-reply").is(":hidden")){c.find(".n-reply").slideDown(150)}else{b()}});c.find(".qxBtn").bind("click",function(){b()})})}function cardChange(b,a,c,e){var b=$(b),a=$(a),d;b.click(function(){d=b.index(this);$(this).addClass(c).siblings().removeClass(c);a.eq(d).show().siblings().hide();if(typeof e==="function"){e()}}).eq(0).click()}var scrollLoad=(function(b){var d=(arguments.length==0)?{src:"xSrc",time:500}:{src:b.src||"xSrc",time:b.time||500};var a=function(e){return e.replace(/-(\w)/g,function(f,g){return g.toUpperCase()})};this.getStyle=function(f,h){if(arguments.length!=2){return false}var g=f.style[a(h)];if(!g){if(document.defaultView&&document.defaultView.getComputedStyle){var e=document.defaultView.getComputedStyle(f,null);g=e?e.getPropertyValue(h):null}else{if(f.currentStyle){g=f.currentStyle[a(h)]}}}return g=="auto"?"":g};var c=function(){if(document.getElementById("aCoursesList")==null){return}var k=window.pageYOffset?window.pageYOffset:window.document.documentElement.scrollTop,l=k+Number(window.innerHeight?window.innerHeight:document.documentElement.clientHeight),j=document.getElementById("aCoursesList").getElementsByTagName("img"),f=j.length;if(!f){return false}for(var h=0;h<f;h++){var g=j[h].getAttribute(d.src),m=j[h],e=m.nodeName.toLowerCase();if(m){postPage=m.getBoundingClientRect().top+window.document.documentElement.scrollTop+window.document.body.scrollTop;postWindow=postPage+Number(this.getStyle(m,"height").replace("px",""));if((postPage>k&&postPage<l)||(postWindow>k&&postWindow<l)){if(e==="img"&&g!==null){m.setAttribute("src",g)}m=null}}}window.onscroll=function(){setTimeout(function(){c()},d.time)}};return c()});function cStar(){var e=$(".c-star-wrap-2"),d=e.find("li"),b=e.find("span"),c=iScore=iStar=0;d.hover(function(){var f=$(this).index()+1;a(f)},function(){a()});d.click(function(){var g=$(this).index()+1;var f=$(this).find("a").attr("title");a(g);iStar=$(this).index()+1;b.text(f);$("input[name='comment.currGrade']").val(f)});function a(f){if(f){iScore=f}else{iScore=iStar}for(c=0;c<d.length;c++){if(c<iScore){d.eq(c).addClass("current")}else{d.eq(c).removeClass("current")}}}}function dialog(e,g,d,c){if(d==19){var f=window.parent.location+"";if(self.frameElement&&self.frameElement.tagName=="IFRAME"&&f.indexOf("/uc/play/")!=-1){c="fromCoursePlayer"}}$("#tisbutt,#dClose,#qujiao").click();var b=$('<div class="bMask"></div>').appendTo($("body")),a=$('<div class="dialogWrap"><div class="dialog-ele"><h4 class="d-s-head pr"><a id="dClose" href="javascript:void(0)" title="关闭" class="dClose icon16 pa">&nbsp;</a><span class="d-s-head-txt">'+e+'</span></h4><div class="of bg-fff"><div id="dcWrap" class="mt20 mb20 ml20 mr20 "></div></div></div></div>').appendTo($("body"));$.ajax({url:baselocation+"/dialog/ajax/showPage",data:{dTitle:e,msg:g,index:d,url:c,dataOne:arguments[4],dataTwo:arguments[5],dataThree:arguments[6],dataFour:arguments[7]},type:"post",dataType:"text",async:false,success:function(h){$("#dcWrap").html(h);if(d==7){uploadImg("fileupload","uploadfile")}var i=(parseInt(document.documentElement.clientHeight,10)/2)+(parseInt(document.documentElement.scrollTop||document.body.scrollTop,10)),k=a.height(),j=a.width(),l=$(".dialog-ele>h4");a.css({top:(i-(k/2)),"margin-left":-(j/2)});$("#tisbutt,#dClose,#qujiao").bind("click",function(){a.remove();b.remove()})}})}var ajaxUrl;var ajaxparameters;var ajaxcallBack;function ajaxPage(a,b,d,c){ajaxUrl=a;ajaxparameters=b;ajaxcallBack=c;b="page.currentPage="+d+""+b;$.ajax({type:"POST",dataType:"text",url:baselocation+a,data:b,cache:true,async:false,success:c})}function goPageAjax(a){ajaxPage(ajaxUrl,ajaxparameters,a,ajaxcallBack)}function addPraise(a,b,c){if(isLogin()){$.ajax({url:baselocation+"/praise/ajax/add",data:{"praise.targetId":a,"http://static.itmayiedu.com/praise.type":b},type:"post",dataType:"json",async:true,success:function(d){if(d.success==true){msgshow("点赞成功","true","3000");var f=$(".addPraise"+a+"_"+b).children("span").html();$(".addPraise"+a+"_"+b).children("span").html(f*1+1);var e=parseInt($(c).children("span").html());$(c).children("span").html(e+1)}else{msgshow(d.message,"false","3000")}}})}else{$("#tisbutt,#dClose,#qujiao").click();lrFun()}}function queryUnReadNum(){$.ajax({type:"POST",dataType:"json",url:baselocation+"/user/ajax/queryUnReadLetter",cache:true,async:true,success:function(a){var f=[];f=a.entity;if(f==null||f.length==0){$("#letter").parent().remove();return}var d="";for(var c=0;c<f.length;c++){var b=f[c];var e="";if(b.type==1){e="系统消息"}else{if(b.type==5){e="课程过期"}else{if(b.type==6){e="优惠券过期"}}}d+=' <li> <div class="t-n-nr"><em title="删除" onclick="removeMsg('+b.id+',this)" class="ico-n-cl icon16">&nbsp;</em><a title="查看详情" class="nr-tit" href="http://static.itmayiedu.com/uc/letter">'+b.content+"</a></div></li>"}$("#letter").html(d);if(f.length>=6){$("#letter").next().show()}if(f.length>0){$("#letterPoint").show();$("#letterPoint").html(f.length)}}})}function removeMsg(a,b){$.ajax({url:baselocation+"/uc/ajax/changeStatus",data:{"http://static.itmayiedu.com/msgReceive.id":a},type:"post",dataType:"json",success:function(c){if(c.success){$(b).parent().parent().remove();if($("#letter").find("li").length<=6){$(".new-tit-box").hide()}var d=parseInt($("#letterPoint").html())-1;if(d==0){$("#letterPoint").html("");$("#letterPoint").removeClass("red-point")}else{$("#letterPoint").html(d)}}}})}function lrFun(c,d){if($(".new-loigin").length>0){return}if(isLogin()){return}var b=$('<div class="bMask"></div>').appendTo($("body")),a=$('<div class="dialogWrap" style="position: absolute;overflow-x:hidden;overflow-y: auto;"><div class="dialog-ele new-loigin"><h4 class="d-s-head pr new-header"><a id="dClose" href="javascript:void(0)" title="关闭" class="dClose icon16 pa new-close">&nbsp;</a><span id="d-s-head-tab" class="d-s-head-tab"><a href="javascript:void(0)" class="current">登录</a><a href="javascript:void(0)">注册</a></span></h4><div class="of"><div id="lrEleWrap" class="mt10 mb20 ml30 mr30"></div></div></div></div>').appendTo($("body"));$.ajax({url:baselocation+"/dialog/ajax/loginReg",data:{jumpType:d},type:"post",dataType:"text",async:false,success:function(e){$("#lrEleWrap").html(e);placeholderFun();var f=(parseInt(document.documentElement.clientHeight,10)/2)+(parseInt(document.documentElement.scrollTop||document.body.scrollTop,10)),h=a.height(),g=a.width(),i=$(".dialog-ele>h4");a.css({top:(f-(h/2)),"margin-left":-(g/2)});i.css({width:(g-"6")});loginDialogChange("#d-s-head-tab>a","#d-s-head-cont>section","current",a.height(),function(){var j=a.height();a.css({top:(f-(j/2)),"margin-left":-(g/2)})});$("#dClose").bind("click",function(){a.remove();b.remove()});if(c==2){$("#d-s-head-tab").find("a:eq(1)").click()}$("#u-email").focus()},error:function(e){if(window.location.href.indexOf(baselocation)==-1){window.location.href=baselocation+"/?msg=ExternalLogin"}}})}function loginDialogChange(c,a,d,b,f){var c=$(c),a=$(a),e;c.click(function(){e=c.index(this);$(this).addClass(d).siblings().removeClass(d);a.eq(e).show().siblings("section").hide();if(typeof f==="function"){f()}if(checkIsMobile()){var h=$(".dialogWrap").height();if(mobHeight<=h){if(e==0){var g=(parseInt(document.documentElement.clientHeight,10)/2)+(parseInt(document.documentElement.scrollTop||document.body.scrollTop,10));h=$(".dialogWrap").height("auto").height();$(".dialogWrap").css({top:(g-(b/2))})}else{$(".dialogWrap").css("height",mobHeight+"px");$(".dialogWrap").css({top:0})}}}}).eq(0).click()}function placeholderFun(){supportPlaceholder="placeholder" in document.createElement("input");if(!supportPlaceholder){$("input").not("input[type='password']").each(function(){if($(this).val()==""&&$(this).attr("placeholder")!=""){$(this).val($(this).attr("placeholder"));$(this).focus(function(){if($(this).val()==$(this).attr("placeholder")){$(this).val("")}});$(this).blur(function(){if($(this).val()==""){$(this).val($(this).attr("placeholder"))}})}});var a=$("input[type=password]");a.each(function(){var e=$(this),d=e.index(),b=e.attr("placeholder");e.after('<input id="pwdPlaceholder'+d+'" type="text" value='+b+' autocomplete="off" />');var c=e.next();c.show();e.hide();c.focus(function(){c.hide();e.show();e.focus()});e.blur(function(){if(e.val()==""){c.show();e.hide()}})})}}function goTopFun(){var b=$("#goTopBtn");b.bind("click",function(){$("html,body").animate({scrollTop:0},500)});var a=function(){var c=$(document).scrollTop();(c>120)?b.fadeIn(50):b.fadeOut(50)};$(window).bind("scroll",a)}function sendPhoneRegister(){$(".e-login-options li").removeClass("err");var a=$("#u-mobile-reg").val();if(a==""){$("#u-mobile-reg").next().html('<span class="c-orange"><em class="icon16 u-a-cw">&nbsp;</em>请输入用户手机号！</span>');$("#u-mobile-reg").parent().addClass("err");return}if(mobileRegex.test(a)==false){$("#u-mobile-reg").next().html('<span class="c-orange"><em class="icon16 u-a-cw">&nbsp;</em>请输入正确的手机号！</span>');$("#u-mobile-reg").parent().addClass("err");return}var b=$("#u-randomcode-reg").val();if(isEmpty(b)){$("#u-randomcode-reg").next().next().next().html('<span class="c-orange"><em class="icon16 u-a-cw">&nbsp;</em>请输入验证码！</span>');$("#u-randomcode-reg").parent().addClass("err");return}$.ajax({url:baselocation+"/createuser/ajax/sendPhoneRegister",type:"post",dataType:"json",data:{mobileVal:a,randomcodeReg:b},success:function(c){if(c.success==true){$("#pp-randomcode-reg").next().next().html('<span class="c-orange"><em class="icon16 u-a-zq">&nbsp;</em>'+c.message+"</span>");var e;var d=60;clearInterval(e);e=setInterval(function(){if(d>1){d--;$(".mobile-yz-btn").addClass("mobile-yz-btn-no");$(".mobile-yz-btn").attr("onclick","");$(".mobile-yz-btn").text(d+"秒后可点击")}else{if(d==1){$(".mobile-yz-btn").text("点击获取验证码");$(".mobile-yz-btn").attr("onclick","sendPhoneRegister()");$(".mobile-yz-btn").removeClass("mobile-yz-btn-no");d=60;clearInterval(e);$(".js-verify-refresh.c-green").click()}}},1000)}else{if(c.entity=="randomcode"){$("#u-randomcode-reg").next().next().next().html('<font class="fsize12 c-orange">'+c.message+"</font>");$("#u-randomcode-reg").parent().addClass("err")}else{if(c.entity=="mobileRandomcode"){$("#pp-randomcode-reg").next().next().html('<font class="fsize12 c-orange">'+c.message+"</font>");$("#pp-randomcode-reg").parent().addClass("err")}else{if(c.entity=="name"){$("#u-name-reg").next().html('<font class="fsize12 c-orange">'+c.message+"</font>");$("#u-name-reg").parent().addClass("err")}else{if(c.entity=="email"){$("#u-email-reg").next().html('<font class="fsize12 c-orange">'+c.message+"</font>");$("#u-email-reg").parent().addClass("err")}else{if(c.entity=="mobile"){$("#u-mobile-reg").next().html('<font class="fsize12 c-orange">'+c.message+"</font>");$("#u-mobile-reg").parent().addClass("err")}else{$(".e-l-jy").html('<font class="fsize12 c-orange">'+c.message+"</font>")}}}}}$(".js-verify-refresh.c-green").click()}}})}function sendEmailRegister(){var a=$("#u-email-reg").val();if(a==""){$("#u-email-reg").next().html('<span class="c-orange"><em class="icon16 u-a-cw">&nbsp;</em>请输入邮箱！</span>');return}if(emailRegex.test(a)==false){$("#u-email-reg").next().html('<span class="c-orange"><em class="icon16 u-a-cw">&nbsp;</em>请输入正确的邮箱！</span>');return}var b=$("#email-randomcode-reg").val();if(isEmpty(b)){$("#email-randomcode-reg").next().next().next().html('<span class="c-orange"><em class="icon16 u-a-cw">&nbsp;</em>请输入验证码！</span>');return}$.ajax({url:baselocation+"/createuser/ajax/sendEmailRegister",type:"post",dataType:"json",data:{emailVal:a,randomcodeReg:b},success:function(c){if(c.success==true){$("#ep-randomcode-reg").next().next().next().html('<span class="c-orange">'+c.message+"</span>");var e;var d=60;$("#emailClick").css("visibility","hidden");$("#recoverEmailClick").css("visibility","visible");clearInterval(e);e=setInterval(function(){if(d>1){d--;$("#recoverEmailClick").text(d+"秒后可点击")}else{if(d==1){$("#emailClick").css("visibility","visible");$("#recoverEmailClick").css("visibility","hidden");d=60;$("#recoverEmailClick").text(d+"秒后可点击");clearInterval(e);$(".js-verify-refresh.c-green").click()}}},1000)}else{$("#ep-randomcode-reg").next().next().next().html('<span class="c-orange"><em class="icon16 u-a-cw">&nbsp;</em>'+c.message+"</span>");$(".js-verify-refresh.c-green").click()}}})}function dialogLogin(d){var b=$("#u-email").val();var c=$("#u-password").val();var a=$("#autoThirty").prop("checked");$("#u-email").next().html("");$("#u-password").next().html("");$(".e-l-jy").html("");if(b==""||b==null){$("#u-email").next().html('<span class="c-orange"><em class="icon16 u-a-cw">&nbsp;</em>请输入账号/邮箱/手机号！</span>');return false}if(c==""||c==null){$("#u-password").next().html('<span class="c-orange"><em class="icon16 u-a-cw">&nbsp;</em>请输入登录密码！</span>');return false}$.ajax({url:baselocation+"/user/ajax/login",type:"post",dataType:"json",data:{account:b,password:c,ipForget:a},success:function(e){if(e.success==false){$(".e-l-jy").html('<font class="fsize12 c-orange">'+e.message+"</font>")}else{if(d=="ucIndex"){window.location.href="http://static.itmayiedu.com/uc/index"}else{if(d=="reload"){window.location.reload()}else{$("#dClose").click();showUserInfo();if($("#limitLogin").val()=="ON"){limitLogin()}}}}},error:function(e){alert("系统繁忙，请稍后再操作！")}})}function dialogRegister(f){$(".e-login-options li").removeClass("err");$(".e-l-jy").html("");$(".e-login-options li p").html("");var e=$("#u-name-reg").val();var b=$("#u-email-reg").val();if(nameRegister=="ON"){if(e==null||e==""){$("#u-name-reg").next().html('<span class="c-orange"><em class="icon16 u-a-cw">&nbsp;</em>请输入账号！</span>');$("#u-name-reg").parent().addClass("err");return}if(!isNaN(e)){$("#u-name-reg").next().html('<span class="c-orange"><em class="icon16 u-a-cw">&nbsp;</em>账号不能全为数字</span>');$("#u-name-reg").parent().addClass("err");return}if(e.length<6||e.length>24){$("#u-name-reg").next().html('<span class="c-orange"><em class="icon16 u-a-cw">&nbsp;</em>账号长度为6-24个字符</span>');$("#u-name-reg").parent().addClass("err");return}if(usernameRegex.test(e)==false){$("#u-name-reg").next().html('<span class="c-orange"><em class="icon16 u-a-cw">&nbsp;</em>账号仅支持英文、数字、减号或下划线</span>');$("#u-name-reg").parent().addClass("err");return}}if(emailRegister=="ON"){if(b==null||b==""){$("#u-email-reg").next().html('<span class="c-orange"><em class="icon16 u-a-cw">&nbsp;</em>请输入邮箱！</span>');$("#u-email-reg").parent().addClass("err");return}if(emailRegex.test(b)==false){$("#u-email-reg").next().html('<span class="c-orange"><em class="icon16 u-a-cw">&nbsp;</em>请输入正确的邮箱！</span>');$("#u-email-reg").parent().addClass("err");return}}var a=$("#u-mobile-reg").val();if(phoneRegister=="ON"){if(a==null||a==""){$("#u-mobile-reg").next().html('<span class="c-orange"><em class="icon16 u-a-cw">&nbsp;</em>请输入用户手机号！</span>');$("#u-mobile-reg").parent().addClass("err");return}if(mobileRegex.test(a)==false){$("#u-mobile-reg").next().html('<span class="c-orange"><em class="icon16 u-a-cw">&nbsp;</em>请输入正确的手机号！</span>');$("#u-mobile-reg").parent().addClass("err");return}}if($("#u-password-reg").val().trim()==""){$("#u-password-reg").next().html('<span class="c-orange"><em class="icon16 u-a-cw">&nbsp;</em>请输入密码！</span>');$("#u-password-reg").parent().addClass("err");return}if($("#u-password-reg").val().length<6){$("#u-password-reg").next().html('<span class="c-orange"><em class="icon16 u-a-cw">&nbsp;</em>密码长度不能小于六位！</span>');$("#u-password-reg").parent().addClass("err");return}if(($("#u-password-reg").val()).indexOf(" ")!=-1){$("#u-password-reg").next().html('<span class="c-orange"><em class="icon16 u-a-cw">&nbsp;</em>密码不能包含空格！</span>');$("#u-password-reg").parent().addClass("err");return false}var d=/^[_0-9a-zA-Z]*$/;if(!d.test($("#u-password-reg").val())){$("#u-password-reg").next().html('<span class="c-orange"><em class="icon16 u-a-cw">&nbsp;</em>密码由字母、数字、下划线组合</span>');$("#u-password-reg").parent().addClass("err");return false}var c=$("#pp-randomcode-reg").val();if(phoneProving=="ON"){if(isEmpty(c)){$("#pp-randomcode-reg").next().html('<span class="c-orange"><em class="icon16 u-a-cw">&nbsp;</em>请输入手机验证码！</span>');$("#pp-randomcode-reg").parent().addClass("err");return}}$.ajax({url:baselocation+"/user/ajax/createuser",data:{"user.userName":$("#u-name-reg").val(),"user.email":$("#u-email-reg").val(),"user.password":$("#u-password-reg").val(),confirmPwd:$("#u-passwordre-reg").val(),registerCode:$("#u-randomcode-reg").val(),"user.mobile":$("#u-mobile-reg").val(),mobileCode:$("#pp-randomcode-reg").val(),emailCode:$("#ep-randomcode-reg").val(),sex:sex,ifEmailReg:ifEmailReg},type:"post",dataType:"json",cache:false,async:false,success:function(g){if(g.success==true){if(f=="ucIndex"){window.location.href=baselocation+"/uc/initUpdateUser/0"}else{if(f=="reload"){window.location.reload()}else{$("#dClose").click();showUserInfo()}}}else{if(g.entity=="randomcode"){$("#u-randomcode-reg").next().next().next().html('<font class="fsize12 c-orange">'+g.message+"</font>");$("#u-randomcode-reg").parent().addClass("err")}else{if(g.entity=="mobileRandomcode"){$("#pp-randomcode-reg").next().next().html('<font class="fsize12 c-orange">'+g.message+"</font>");$("#pp-randomcode-reg").parent().addClass("err")}else{if(g.entity=="name"){$("#u-name-reg").next().html('<font class="fsize12 c-orange">'+g.message+"</font>");$("#u-name-reg").parent().addClass("err")}else{if(g.entity=="email"){$("#u-email-reg").next().html('<font class="fsize12 c-orange">'+g.message+"</font>");$("#u-email-reg").parent().addClass("err")}else{if(g.entity=="mobile"){$("#u-mobile-reg").next().html('<font class="fsize12 c-orange">'+g.message+"</font>");$("#u-mobile-reg").parent().addClass("err")}else{if(g.entity=="password"){$("#u-password-reg").next().html('<font class="fsize12 c-orange">'+g.message+"</font>");$("#u-password-reg").parent().addClass("err")}else{$(".e-l-jy").html('<font class="fsize12 c-orange">'+g.message+"</font>")}}}}}}}},error:function(g){$(".e-l-jy").html('<font class="fsize12 c-orange">系统繁忙，请稍后再操作</font>')}})}function getCourseLearnedUser(a){$.ajax({type:"POST",dataType:"json",url:baselocation+"/couserStudyHistory/ajax/courseLearnedUser/"+a,cache:true,async:false,success:function(b){if(b.success==true){var c=b.entity;if(c.length!=0){var f="";var g="";var e='<section class="c-infor-tabTitle c-tab-title"><a href="" title="">学过此课的人（'+b.message+"）</a></section>";e+='<section class="buy-cin-list">';for(var d=0;d<c.length;d++){f=c[d].userImg;if(f==null||$.trim(f)==""){f=baselocation+"/static/inxweb/img/avatar-boy.gif"}else{f=baselocation+f}g=c[d].userShowName;if(g==null||$.trim(g)==""){g=c[d].userEmail}e=e+'<span title="'+g+'"><img alt="" src="'+f+'"><tt class="c-999">'+g+"</tt></span>"}e+="</section>";$("#courseLearnedUserDiv").parent().html(e)}}}})}function mobileHrefCheckLogin(a){if(isLogin()){window.location.href=a}else{lrFun()}}function thirdPartyLogin(a){window.location.href=baselocation+"/app/authlogin?appType="+a}function livePlay(a,b){if(!isLogin()){lrFun();return}$.ajax({type:"POST",dataType:"json",url:baselocation+"/front/ajax/livePlay",data:{kpointId:a},cache:true,async:false,success:function(c){if(c.success){var d=$(window).height();if(c.message=="bajiayunApp"){if(checkIsMobile()){msgshow("无法调取客户端，请联系管理员","false","2000");return}if(navigator.userAgent.indexOf("Mac OS X")!=-1){dialog("进入房间","如果未安装或不能打开客户端，请下载最新版客户端，客户端功能更强大",13,c.entity+"|http://www.baijiacloud.com/default/home/liveclientDownload?type=mac")}else{dialog("进入房间","如果未安装或不能打开客户端，请下载最新版客户端，客户端功能更强大",13,c.entity+"|http://www.baijiacloud.com/default/home/liveclientDownload?type=windows")}}else{if(c.message=="bajiayunPlayback"){window.open(c.entity+"&width=100%&height="+d)}else{if(c.message=="96kooClient"){if(navigator.userAgent.indexOf("Mac OS X")!=-1){dialog("进入房间","如果未安装或不能打开客户端，请下载最新版客户端，客户端功能更强大",13,c.entity+"|https://c1.96koo.net/package/zhinengzhibomac6.8.0.dmg")}else{dialog("进入房间","如果过未安装或不能打开客户端，请下载最新版客户端，客户端功能更强大",13,c.entity+"|https://c1.96koo.net/package/zhinengzhibo6.8.0.zip")}}else{window.open(c.entity+"&width=100%&height="+d)}}}}else{if(c.message.indexOf("该直播为收费直播，请购买后操作。")!=-1&&b!=null){window.location.href="http://static.itmayiedu.com/front/couinfo/"+b}else{dialog("提示",c.message,1)}}}})}var sex=1;function selectSex(a,b){$(b).parent().children().removeClass("current");$(b).addClass("current");$("input[name='http://static.itmayiedu.com/user.sex']").val(a);$("#sexPrompt").html("");sex=a}function turnIfEmailReg(){if(ifEmailReg=="off"){ifEmailReg="on";$("#u-email-reg").attr("placeholder","请输入邮箱");$(".check-email-reg").text("账号注册")}else{ifEmailReg="off";$("#u-email-reg").attr("placeholder","请输入账号");$(".check-email-reg").text("邮箱注册")}}function chcckCoursePay(a){$.ajax({url:"/order/review",data:{requestId:a,type:"course"},type:"post",dataType:"json",success:function(b){if(b.message=="true"){var d=b.entity;if(isNotNull(d)){var c=d[0].trxorderType;if(c=="lineCourse"){window.location.href="http://static.itmayiedu.com/uc/lineCourse"}else{if(c=="MEMBER"){window.location.href="http://static.itmayiedu.com/uc/associator"}else{if(c=="ACCOUNT"){window.location.href="http://static.itmayiedu.com/uc/myAccount"}else{if(c=="examPaper"){window.location.href="http://static.itmayiedu.com/uc/ucExam"}else{if(c=="practiceQuestion"){window.location.href="http://static.itmayiedu.com/uc/ucPracticeQuestion"}else{if(c=="passThrough"){window.location.href="http://static.itmayiedu.com/uc/ucPassThrough"}else{if(c=="examPackage"){window.location.href="http://static.itmayiedu.com/uc/ucExamPackage"}else{window.location.href="http://static.itmayiedu.com/uc/index"}}}}}}}}}else{msgshow("支付失败","false")}}})}function mtitShow(){var a=$(".u-r-tit-all").width(),b=$(".u-body").height();$(".u-m-tit-abox").on("click",".more",function(){$(".u-m-tit-abox .u-m-n-box").addClass("nameshow");$(".u-m-tit-abox .u-m-tit-a-warp").css({width:a,height:b});$(".u-m-tit-abox .u-m-tit-a-warp").show()});$(".u-m-tit-abox").on("click",".u-m-tit-a-warp .u-m-t-ab-in ul li",function(){var c=$(this);if(!c.hasClass("m-current")){c.addClass("m-current").siblings().removeClass("m-current")}else{c.removeClass("m-current")}$(".u-m-tit-abox .u-m-n-box").removeClass("nameshow");$("http://static.itmayiedu.com/.u-m-tit-abox .more").text(($(".u-m-t-ab-in .m-current a").text()));$(".u-m-tit-abox .u-m-tit-a-warp").hide()})}function aNewTitShow(){var a=$(".comm-title").width(),b=$(".i-article").height();$(".u-m-tit-abox").on("click",".more",function(){$(".u-m-tit-abox .u-m-n-box").addClass("nameshow");$(".u-m-tit-abox .u-m-tit-a-warp").css({width:a,height:b});$(".u-m-tit-abox .u-m-tit-a-warp").show()});$(".u-m-tit-abox").on("click",".u-m-tit-a-warp .u-m-t-ab-in ul li",function(){var c=$(this);if(!c.hasClass("m-current")){c.addClass("m-current").siblings().removeClass("m-current")}else{c.removeClass("m-current")}$(".u-m-tit-abox .u-m-n-box").removeClass("nameshow");$("http://static.itmayiedu.com/.u-m-tit-abox .more").text(($(".u-m-t-ab-in .m-current a").text()));$(".u-m-tit-abox .u-m-tit-a-warp").hide()})}function optionShow(){var a=$(".c-sort-box").height()-40;if(a<$(window).height()){a=$(window).height()}$(".kcfl-li").click(function(){if($(".zhpx-li").hasClass("cur")){$(".zhpx-li").click()}if($(".sxtj-li").hasClass("cur")){$(".sxtj-li").click()}if($(".kczy-box").hasClass("box-se")){$(".kczy-box").removeClass("box-se");$(this).removeClass("cur");$(".kczy-list-a").css("display","none");$(".mo-op-body").removeClass("mo-op-body-se")}else{$(".kczy-box").addClass("box-se");$(this).addClass("cur").siblings().removeClass("cur");$(".kczy-list-a").css("display","block");$(".mo-op-body").addClass("mo-op-body-se");$(".mo-op-body").css("height",a)}if(parentSubjectId!=0){$("#kczy-a").find(".current").click()}});$(".kczy-list-a li").click(function(){var b=$(".kczy-list-a").height();if($(".kczy-list-b li").length==0){$(".kczy-list-a").css({display:"block",width:"100%"})}else{if(!$(this).hasClass("allSubject")){$(".kczy-list-a").css("width","50%")}$(".kczy-list-b").css({width:"50%",left:"50%",display:"block",height:b})}$(this).addClass("current").siblings().removeClass("current")});$(".kczy-list-b li").click(function(){$(this).addClass("cater").siblings().removeClass("cater");$(".kcfl-li.cur a tt").text(($(this).children().text()));$(".kczy-box").removeClass("box-se");$(".mo-op-body").removeClass("mo-op-body-se");$(".kcfl-li").removeClass("cur")});$(".zhpx-li").click(function(){if($(".kcfl-li").hasClass("cur")){$(".kcfl-li").click()}if($(".sxtj-li").hasClass("cur")){$(".sxtj-li").click()}if($(".zhpx-box").hasClass("box-se")){$(".zhpx-box").removeClass("box-se");$(this).removeClass("cur");$(".zhpx-list").css("display","none");$(".mo-op-body").removeClass("mo-op-body-se")}else{$(this).addClass("cur").siblings().removeClass("cur");$(".zhpx-list").css("display","block");$(".zhpx-box").addClass("box-se");$(".mo-op-body").addClass("mo-op-body-se");$(".mo-op-body").css("height",a)}});$(".zhpx-list li").click(function(){$(this).addClass("current").siblings().removeClass("current");$(".zhpx-li.cur a tt").text(($(this).text()));$(".zhpx-box").removeClass("box-se");$(".mo-op-body").removeClass("mo-op-body-se");$(".zhpx-li").removeClass("cur")});$(".sxtj-li").click(function(){if($(".zhpx-li").hasClass("cur")){$(".zhpx-li").click()}if($(".kcfl-li").hasClass("cur")){$(".kcfl-li").click()}if($(".sxtj-box").hasClass("box-se")){$(".sxtj-box").removeClass("box-se");$(this).removeClass("cur");$(".sxtj-list").css("display","none");$(".mo-op-body").removeClass("mo-op-body-se")}else{$(".sxtj-box").addClass("box-se");$(this).addClass("cur").siblings().removeClass("cur");$(".sxtj-list").css("display","block");$(".mo-op-body").addClass("mo-op-body-se");$(".mo-op-body").css("height",a)}})}function hiddenMessage(){$("#message").css("display","none")}function msgshow(e,i,h){$("#message").remove();$(".mes-warp-0").remove();if(isEmpty(h)){h=3000}var c=$('<div id="message"></div>').appendTo($("body")).fadeIn("fast").delay(h).fadeOut("slow");if(i=="false"){var a='<div class="mes-warp-0"><div class="msg-cg msg-nr msg-nr-cw"><em class="rts-ico"><img src="rts-cw.png"/*tpa=http://static.itmayiedu.com/static/admin/assets/rts-cw.png*/></em><span>'+e+"</span></div></div>"}else{var a='<div class="mes-warp-0"><div class="msg-cg msg-nr msg-nr-zq"><em class="rts-ico"><img src="rts-zq.png"/*tpa=http://static.itmayiedu.com/static/admin/assets/rts-zq.png*/></em><span>'+e+"</span></div></div>"}$("#message").html(a);var g=(parseInt(document.documentElement.clientHeight,10)/2)+(parseInt(document.documentElement.scrollTop||document.body.scrollTop,10)),b=c.height(),f=c.width(),d=null;$("#message").hover(hiddenMessage,function(){});c.css({top:(g-(b/2)),"margin-left":-(f/2)})}function goHistory(b){var a=window.location.href.replace(baselocation,"");if(a=="/quest/toQuestionitemList"||a=="/paper/toExamPaperRecordList"||a=="/quest/toErrorQuestionList"||a=="/quest/toNoteQuestionList"||a=="/quest/favoriteQuestion"){window.location.href=baselocation+"/paper/examIndex"}else{if(a.indexOf("paper/getExamPaperReport")>0){window.location.href=baselocation+"/paper/examIndex"}else{if(isNotEmpty(b)){window.location.href=b}else{history.go(-1)}}}}function moSeachAll(){if(checkIsMobile()){$("body").css("min-height",$(window).height())}var c=$(".all-header").height();var a=$(window).height()-c;var b=$(".mw-nav-seach").width();var d=$(".h1-mw-seach-input").width();$(".mo-all-seach-warp").height(a);$(".h1-mw-seach-input").focus(function(){$("body").css({height:"100%",overflow:"hidden"});$(this).val();$(".mo-all-seach-warp").animate({bottom:0},300);$(".mw-nav-btn").css("display","none");$(".mw-nav-seach").css({right:"8px",width:b+55});$(".h1-mw-seach-input").css("width",d+55)});$(".c-master").click(function(){$("body").css({height:"auto",overflow:"hidden"});$(".mo-all-seach-warp").animate({bottom:"-100%"},300);$(".mw-nav-btn").css("display","block");$(".mw-nav-seach").css({right:"55px",width:b});$(".h1-mw-seach-input").css("width",d)})}function chcckCourseBuy(b,c){var a=false;$.ajax({url:"/course/ajax/checkBuy/"+b,data:{type:c},type:"post",dataType:"json",async:false,success:function(d){a=d.success}});return a}function addbargainPublish(b){var a=0;$.ajax({url:baselocation+"/bargain/ajax/bargainPublishAdd/"+b,type:"post",dataType:"json",async:false,success:function(c){if(c.success==false){msgshow(c.message,"false","3000")}a=c.entity.id}});return a}function BrowserType(){var i=navigator.userAgent;var b=i.indexOf("Opera")>-1;var d=i.indexOf("compatible")>-1&&i.indexOf("MSIE")>-1&&!b;var g=i.indexOf("Edge")>-1;var c=i.indexOf("Firefox")>-1;var f=i.indexOf("Safari")>-1&&i.indexOf("Chrome")==-1;var a=i.indexOf("Chrome")>-1&&i.indexOf("Safari")>-1;if(d){var h=new RegExp("MSIE (\\d+\\.\\d+);");h.test(i);var e=parseFloat(RegExp["$1"]);if(e==7){return"IE7"}else{if(e==8){return"IE8"}else{if(e==9){return"IE9"}else{if(e==10){return"IE10"}else{if(e==11){return"IE11"}else{return"0"}}}}}}if(c){return"FF"}if(b){return"Opera"}if(f){return"Safari"}if(a){return"Chrome"}if(g){return"Edge"}}function isIE(){var b=navigator.userAgent;var a=b.indexOf("compatible")>-1&&b.indexOf("MSIE")>-1&&!isOpera;if(a){return"1"}else{return"-1"}}function IEVersion(){var e=navigator.userAgent;var b=e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1&&!isOpera;var d=e.indexOf("Windows NT 6.1; Trident/7.0;")>-1&&!b;if(b){var a=new RegExp("MSIE (\\d+\\.\\d+);");a.test(e);var c=parseFloat(RegExp["$1"]);if(c==7){return"IE7"}else{if(c==8){return"IE8"}else{if(c==9){return"IE9"}else{if(c==10){return"IE10"}else{if(c==11){return"IE11"}else{return"0"}}}}}}else{if(d){return"Edge"}else{return"-1"}}};